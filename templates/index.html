{% extends "base.html" %}

{% block content %}
    {% if not request.cookies.get("access_token") %}
    <div id="auth-container">
        {% if error %}
        <div class="section" style="background: #ff4d4d; color: #fff;">
            <p>{{ error }}</p>
        </div>
        {% endif %}
        {% if not show_register %}
        <form method="post" action="/login">
            <input type="text" name="username" placeholder="Username" required>
            <input type="password" name="password" placeholder="Password" required>
            <button type="submit">Login</button>
            <p class="form-toggle"><a href="?show_register=true" style="color: #00d4ff; text-decoration: none;">Need an account? Register</a></p>
        </form>
        {% else %}
        <form method="post" action="/register">
            <input type="text" name="username" placeholder="Username" required>
            <input type="email" name="email" placeholder="Email" required>
            <input type="password" name="password" placeholder="Password" required>
            <input type="text" name="company_name" placeholder="Company Name (optional)">
            <button type="submit">Register</button>
            <p class="form-toggle"><a href="/" style="color: #00d4ff; text-decoration: none;">Already have an account? Login</a></p>
        </form>
        {% endif %}
    </div>
    {% else %}
    <div class="section">
        <h2>Welcome!</h2>
        <p>Use the navigation bar to explore the dashboard or leaderboard.</p>
    </div>
    {% endif %}

    <style>
        input, button {
            display: block;
            width: 100%;
            margin: 10px 0;
            padding: 10px;
            border: none;
            border-radius: 5px;
        }
        button {
            background: #00d4ff;
            color: #1a1a2e;
            cursor: pointer;
        }
        button:hover {
            background: #00b8d4;
        }
        .form-toggle {
            text-align: center;
            margin-top: 10px;
        }
    </style>
{% endblock %}